(function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],m=0,p=[];m<s.length;m++)i=s[m],o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={1:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/test_images/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;r.push([3,0]),n()})({3:function(t,e,n){t.exports=n("Vtdi")},FDww:function(t,e,n){},FusA:function(t,e,n){},RW3E:function(t,e,n){},Ro7z:function(t,e,n){"use strict";var a=n("FusA"),o=n.n(a);o.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var a=n("Kw5r"),o=n("jE9Z"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AppHeader"),n("div",{staticClass:"ui container"},[n("router-view")],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui secondary pointing menu"},[n("router-link",{staticClass:"active item",attrs:{to:"/"}},[t._v("\n    Image Storage\n  ")]),n("div",{staticClass:"right menu"},[t.isLoggedIn?n("div",{staticClass:"horizontal"},[n("router-link",{staticClass:"item",attrs:{to:"/"}},[t._v("Galleries")]),n("router-link",{staticClass:"item",attrs:{to:"/upload"}},[t._v("Upload")]),n("a",{staticClass:"item",on:{click:t.logout}},[t._v("Logout")])],1):n("a",{staticClass:"ui item",attrs:{href:"#"},on:{click:t.login}},[t._v("\n      Login\n    ")])])],1)},c=[],u=n("L2JU"),l={name:"AppHeader",computed:Object(u["c"])(["isLoggedIn"]),methods:Object(u["b"])(["login","logout"])},m=l,p=(n("Ro7z"),n("KHd+")),g=Object(p["a"])(m,s,c,!1,null,"0663cb09",null),f=g.exports,d={name:"App",components:{AppHeader:f}},h=d,v=Object(p["a"])(h,r,i,!1,null,null,null),w=v.exports,_=(n("pIFo"),n("rGqo"),n("yt8O"),n("HEwt"),n("Qyje")),b=n.n(_),I=n("vDqi"),k=n.n(I),O="cf5a453ee223d13",j="https://api.imgur.com",y={login:function(){var t={client_id:O,response_type:"token"};window.location="".concat(j,"/oauth2/authorize?").concat(b.a.stringify(t))},fetchImages:function(t){return k.a.get("".concat(j,"/3/account/me/images"),{headers:{Authorization:"Bearer ".concat(t)}})},uploadImages:function(t,e){var n=Array.from(t).map(function(t){var n=new FormData;return n.append("image",t),k.a.post("".concat(j,"/3/image"),n,{headers:{Authorization:"Bearer ".concat(e)}})});return Promise.all(n)}},x={token:window.localStorage.getItem("imgur_token")},L={isLoggedIn:function(t){return!!t.token}},C={login:function(){y.login()},finalizeLogin:function(t,e){var n=t.commit,a=b.a.parse(e.replace("#",""));n("setToken",a.access_token),window.localStorage.setItem("imgur_token",a.access_token),nt.push("/")},logout:function(t){var e=t.commit;e("setToken",null),window.localStorage.removeItem("imgur_token")}},z={setToken:function(t,e){t.token=e}},A={state:x,getters:L,actions:C,mutations:z},E=(n("ls82"),n("MECJ")),F={images:[]},R={allImages:function(t){return t.images}},D={fetchImages:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(e){var n,a,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,a=e.commit,o=n.auth.token,t.next=4,y.fetchImages(o);case 4:r=t.sent,a("setImages",r.data.data);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),uploadImages:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(e,n){var a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,o=a.auth.token,t.next=4,y.uploadImages(n,o);case 4:nt.push("/");case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},S={setImages:function(t,e){t.images=e}},H={state:F,getters:R,actions:D,mutations:S};a["a"].use(u["a"]);var P=new u["a"].Store({modules:{auth:A,images:H}}),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  Please wait...\n")])},B=[],J={name:"AuthHandler",methods:Object(u["b"])(["finalizeLogin"]),created:function(){this.finalizeLogin(window.location.hash)}},W=J,M=Object(p["a"])(W,$,B,!1,null,null,null),T=M.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoggedIn?n("div",{staticClass:"image-container"},t._l(t.allImages,function(t){return n("img",{attrs:{src:t.link}})})):n("h2",[t._v("Log in to get started!")])])},V=[],Z={name:"ImageList",computed:Object(u["c"])(["allImages","isLoggedIn"]),methods:Object(u["b"])(["fetchImages"]),created:function(){this.fetchImages()}},q=Z,G=(n("ZFuB"),Object(p["a"])(q,U,V,!1,null,"2692ea45",null)),K=G.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropper"},[n("input",{attrs:{type:"file",multiple:"",accept:"image/*"},on:{change:function(e){t.uploadImages(e.target.files)}}}),n("span",[t._v("Drag files here!")])])},Q=[],N={name:"UploadForm",methods:Object(u["b"])(["uploadImages"])},X=N,tt=(n("WDY8"),Object(p["a"])(X,Y,Q,!1,null,"2121ae36",null)),et=tt.exports;n.d(e,"router",function(){return nt}),a["a"].use(o["a"]);var nt=new o["a"]({mode:"history",routes:[{path:"/",component:K},{path:"/upload",component:et},{path:"/oauth2/callback",component:T}]});new a["a"]({router:nt,store:P,render:function(t){return t(w)}}).$mount("#app")},WDY8:function(t,e,n){"use strict";var a=n("FDww"),o=n.n(a);o.a},ZFuB:function(t,e,n){"use strict";var a=n("RW3E"),o=n.n(a);o.a}});
//# sourceMappingURL=app.b64a3aac.js.map